(()=>{"use strict";let e="true"===localStorage.getItem("auto")||!1,t=parseInt(localStorage.getItem("power")||"0");const n=document.getElementById("auto"),o=document.getElementById("burn"),l=document.getElementById("burnCount"),a=document.getElementById("upgrade");let r=parseInt(localStorage.getItem("burns")||"0"),c=t+1,s=parseInt(localStorage.getItem("burner")||"0")+100;const d=document.getElementById("burner-upgrade");let i=parseInt(localStorage.getItem("suspicion")||"0");const u=document.getElementById("lower-suspicion");let g="true"===localStorage.getItem("agreement")||!1;const m=document.getElementById("agreement-button"),I=document.getElementById("info"),b=document.getElementById("details");function S(){l.innerHTML=`Ashes: ${r}`,c=t+1,document.getElementById("suspicion").innerHTML=`James' suspicion: ${i}`}function p(){localStorage.setItem("burns",r.toString()),localStorage.setItem("power",t.toString()),localStorage.setItem("auto",e.toString()),localStorage.setItem("burner",(s-100).toString()),localStorage.setItem("suspicion",i.toString()),localStorage.setItem("agreement",g?"true":"false")}const y=setInterval((()=>{if(g)clearInterval(y),m.disabled=!0,m.innerHTML="Bought.";else if(r>999&&(i++,S(),p()),i>99){document.querySelectorAll("div, button, h3, br").forEach((e=>{e.remove()})),localStorage.clear();const e=document.createElement("div");e.textContent="You have lost! Restart to try again (save wiped).",document.body.appendChild(e)}}),2e3);o.onclick=()=>{o.disabled=!0,setTimeout((()=>{r+=c,S(),p(),o.disabled=!1}),50)},a.onclick=()=>{r>99?(r-=100,t++,S(),p()):console.log("not enough burns")},n.onclick=()=>{r>9999&&(r-=1e4,e=!0,n.disabled=!0,n.innerHTML="Bought.",d.disabled=!1,setInterval((()=>{r+=s,S(),p()}),1e3),p(),S())},d.onclick=()=>{r>998&&(s+=5,r-=999,p(),S())},u.onclick=()=>{r>1336&&(i>2?(r-=1337,i-=3,p(),S()):(r-=1337,i=0,p(),S()))},m.onclick=()=>{r>999999&&(r-=1e6,g=!0,clearInterval(y),i=0,m.disabled=!0,m.innerHTML="Bought.",p(),S())},I.onclick=()=>{const e=window.getComputedStyle(b).display;b.style.display="none"!==e?"none":"flex"},S(),e?(n.disabled=!0,n.innerHTML="Bought.",setInterval((()=>{r+=s,S(),p()}),1e3)):d.disabled=!0})();